function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){l[e]=t},t.parcelRequired7c6=a);var o=e(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var o,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='library__film-item' id='queue' data-id="+c(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:r)===s?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:1,column:50},end:{line:1,column:56}}}):o)+">\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='"+c(typeof(o=null!=(o=d(n,"src")||(null!=t?d(t,"src"):t))?o:r)===s?o.call(i,{name:"src",hash:{},data:a,loc:{start:{line:5,column:9},end:{line:5,column:16}}}):o)+"'\n    alt='"+c(typeof(o=null!=(o=d(n,"name")||(null!=t?d(t,"name"):t))?o:r)===s?o.call(i,{name:"name",hash:{},data:a,loc:{start:{line:6,column:9},end:{line:6,column:17}}}):o)+"'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>"+c(typeof(o=null!=(o=d(n,"name")||(null!=t?d(t,"name"):t))?o:r)===s?o.call(i,{name:"name",hash:{},data:a,loc:{start:{line:9,column:34},end:{line:9,column:42}}}):o)+"</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>"+c(typeof(o=null!=(o=d(n,"genr")||(null!=t?d(t,"genr"):t))?o:r)===s?o.call(i,{name:"genr",hash:{},data:a,loc:{start:{line:11,column:37},end:{line:11,column:45}}}):o)+"</p>\n      <p class='library__item-year'>"+c(typeof(o=null!=(o=d(n,"year")||(null!=t?d(t,"year"):t))?o:r)===s?o.call(i,{name:"year",hash:{},data:a,loc:{start:{line:12,column:36},end:{line:12,column:44}}}):o)+"<span\n          class='vote'\n        >"+c(typeof(o=null!=(o=d(n,"vote")||(null!=t?d(t,"vote"):t))?o:r)===s?o.call(i,{name:"vote",hash:{},data:a,loc:{start:{line:14,column:9},end:{line:14,column:17}}}):o)+"</span></p>\n    </div>\n  </div>\n  <button\n    class='library__btn-list-delete'\n    id='delete'\n    type='button'\n    title='delete'\n  >\n  </button>\n</li>"},useData:!0});var i=e(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var o,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='library__film-item' id='watched' data-id="+c(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:r)===s?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:1,column:52},end:{line:1,column:58}}}):o)+">\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='"+c(typeof(o=null!=(o=d(n,"src")||(null!=t?d(t,"src"):t))?o:r)===s?o.call(i,{name:"src",hash:{},data:a,loc:{start:{line:5,column:9},end:{line:5,column:16}}}):o)+"'\n    alt='"+c(typeof(o=null!=(o=d(n,"name")||(null!=t?d(t,"name"):t))?o:r)===s?o.call(i,{name:"name",hash:{},data:a,loc:{start:{line:6,column:9},end:{line:6,column:17}}}):o)+"'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>"+c(typeof(o=null!=(o=d(n,"name")||(null!=t?d(t,"name"):t))?o:r)===s?o.call(i,{name:"name",hash:{},data:a,loc:{start:{line:9,column:34},end:{line:9,column:42}}}):o)+"</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>"+c(typeof(o=null!=(o=d(n,"genr")||(null!=t?d(t,"genr"):t))?o:r)===s?o.call(i,{name:"genr",hash:{},data:a,loc:{start:{line:11,column:37},end:{line:11,column:45}}}):o)+"</p>\n      <p class='library__item-year'>"+c(typeof(o=null!=(o=d(n,"year")||(null!=t?d(t,"year"):t))?o:r)===s?o.call(i,{name:"year",hash:{},data:a,loc:{start:{line:12,column:36},end:{line:12,column:44}}}):o)+"<span\n          class='vote'\n        >"+c(typeof(o=null!=(o=d(n,"vote")||(null!=t?d(t,"vote"):t))?o:r)===s?o.call(i,{name:"vote",hash:{},data:a,loc:{start:{line:14,column:9},end:{line:14,column:17}}}):o)+"</span></p>\n    </div>\n  </div>\n  <button\n    class='library__btn-list-delete'\n    id='delete'\n    type='button'\n    title='delete'\n  >\n  </button>\n</li>"},useData:!0}),r=a("4RHyl");var s=e(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var o,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div class='modal modal-lib' id="+c(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:r)===s?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:1,column:32},end:{line:1,column:38}}}):o)+">\n    <button class='button-close' data-action=\"close-modal\">\n      <svg class='button-close__icon' width='30' height='30'>\n      </svg>\n    </button>\n  <div class='modal__poster'>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n\n      <img class='modal__image' src=\""+c(typeof(o=null!=(o=d(n,"src")||(null!=t?d(t,"src"):t))?o:r)===s?o.call(i,{name:"src",hash:{},data:a,loc:{start:{line:8,column:37},end:{line:8,column:44}}}):o)+'"" alt="'+c(typeof(o=null!=(o=d(n,"name")||(null!=t?d(t,"name"):t))?o:r)===s?o.call(i,{name:"name",hash:{},data:a,loc:{start:{line:8,column:52},end:{line:8,column:60}}}):o)+"\"\" width='275' />\n\n  </div>\n\n  <div class='modal__filmBox'>\n    <h2 class='modal__name'>"+c(typeof(o=null!=(o=d(n,"name")||(null!=t?d(t,"name"):t))?o:r)===s?o.call(i,{name:"name",hash:{},data:a,loc:{start:{line:13,column:28},end:{line:13,column:36}}}):o)+"</h2>\n\n    <table class='modal__table'>\n      <tr>\n        <td class='modal__title'>Vote / votes</td>\n        <td><span class='modal__vote'>"+c(typeof(o=null!=(o=d(n,"vote")||(null!=t?d(t,"vote"):t))?o:r)===s?o.call(i,{name:"vote",hash:{},data:a,loc:{start:{line:18,column:38},end:{line:18,column:46}}}):o)+"</span>\n          /\n          <span class='vote__total'>"+c(typeof(o=null!=(o=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?o:r)===s?o.call(i,{name:"vote_count",hash:{},data:a,loc:{start:{line:20,column:36},end:{line:20,column:50}}}):o)+"</span></td>\n      </tr>\n      <tr>\n        <td class='modal__title'>Popularity</td>\n        <td>"+c(typeof(o=null!=(o=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?o:r)===s?o.call(i,{name:"popularity",hash:{},data:a,loc:{start:{line:24,column:12},end:{line:24,column:26}}}):o)+"</td>\n      </tr>\n      <tr>\n        <td class='modal__title'>Original Title</td>\n        <td class='modal__nameOriginal'>"+c(typeof(o=null!=(o=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?o:r)===s?o.call(i,{name:"original_title",hash:{},data:a,loc:{start:{line:28,column:40},end:{line:28,column:58}}}):o)+"</td>\n      </tr>\n      <tr>\n        <td class='modal__title'>Genre</td>\n        <td>"+c(typeof(o=null!=(o=d(n,"genr")||(null!=t?d(t,"genr"):t))?o:r)===s?o.call(i,{name:"genr",hash:{},data:a,loc:{start:{line:32,column:12},end:{line:32,column:20}}}):o)+"</td>\n      </tr>\n    </table>\n    <h3>About</h3>\n    <div class='modal__description'>"+c(typeof(o=null!=(o=d(n,"overview")||(null!=t?d(t,"overview"):t))?o:r)===s?o.call(i,{name:"overview",hash:{},data:a,loc:{start:{line:36,column:36},end:{line:36,column:48}}}):o)+'</div>\n    <div class="modal-trailer" id="player"></div>\n    <div class=\'modal__buttons\'>\n    </div>\n  </div>\n</div>'},useData:!0}),c=a("37v9V");const d=document.querySelector(".library__list"),u=document.querySelector(".library"),m=document.querySelector("#watched-btn"),p=document.querySelector("#queue-btn"),h=document.querySelector("body"),v=document.querySelector(".backdrop"),y=JSON.parse(localStorage.getItem("watched")),_=JSON.parse(localStorage.getItem("queue"));m.addEventListener("click",(function(){d.innerHTML="",d.insertAdjacentHTML("beforeend",JSON.parse(localStorage.getItem("watched"))?y.map(i).join(""):d.textContent=""),d.classList.remove("visually-hidden"),u.classList.add("visually-hidden"),m.classList.toggle("activeBtn"),p.classList.remove("activeBtn")})),p.addEventListener("click",(function(){d.innerHTML="",d.insertAdjacentHTML("beforeend",JSON.parse(localStorage.getItem("queue"))?_.map(o).join(""):d.textContent=""),d.classList.remove("visually-hidden"),u.classList.add("visually-hidden"),p.classList.toggle("activeBtn"),m.classList.remove("activeBtn")}));let f="";d.addEventListener("click",(function(e){if(e.target===d)return;const t=document.querySelectorAll(".library__film-item"),n=e.composedPath()[e.composedPath().length-8],l=n.offsetParent.dataset.id;let a=[];if("delete"===n.id)t.forEach((e=>{if(e.dataset.id===l){e.remove();let t=e.id;const n=JSON.parse(localStorage.getItem(`${t}`));1===n.length&&localStorage.removeItem(`${t}`),n.map((e=>{e.id!==Number(l)&&(a.push(e),localStorage.setItem(`${t}`,JSON.stringify(a)))}))}}));else{if(e.target===e.currentTarget)return;v.innerHTML="";const p=e.target.closest("li");f=p.dataset.id;const y=`https://api.themoviedb.org/3/movie/${f}?api_key=7bfeb33324f72574136d1cd14ae769b5`;(0,r.getDataApi)(y).then((e=>function(e){const t=e.genres.map((e=>e.name)).join(", ");function n(){return e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg"}const l=n(),a=e.title.toUpperCase(),i=e.vote_average.toFixed(1),c=e.vote_count,d=e.popularity,p=e.original_title,y=e.overview,b={src:l,name:a,vote:i,vote_count:c,popularity:d,original_title:p,genr:t,overview:y,id:e.id};v.insertAdjacentHTML("beforeend",s(b));const g=`https://api.themoviedb.org/3/movie/${f}/videos?api_key=7bfeb33324f72574136d1cd14ae769b5`;function L(){(0,r.getDataApi)(g).then((e=>w(e.results)))}function w(e){const t=document.querySelector(".modal__buttons"),n=e.map((e=>e.key));n.length>=3?t.insertAdjacentHTML("afterbegin","<button class='modal__watchedButton watch-trailer-0'>Watch trailer 1</button>\n             <button class='modal__watchedButton watch-trailer-1'>Watch trailer 2</button>\n             <button class='modal__watchedButton watch-trailer-2'>Watch trailer 3</button>"):2===n.length?t.insertAdjacentHTML("afterbegin","<button class='modal__watchedButton watch-trailer-0'>Watch trailer 1</button>\n             <button class='modal__watchedButton watch-trailer-1'>Watch trailer 2</button>"):1===n.length&&t.insertAdjacentHTML("afterbegin","<button class='modal__watchedButton watch-trailer-0'>Watch trailer 1</button>")}function k(){v.style.background=`url('https://image.tmdb.org/t/p/original${e.backdrop_path}') no-repeat center,linear-gradient(to right, hsla(0, 0%, 0%, 0.2), #00000033) `,v.classList.remove("is-hidden"),v.style.backgroundSize="cover",h.classList.add("no-scroll"),_.classList.remove("scroll-up--active"),v.removeEventListener("click",k),document.querySelector(".button-close").addEventListener("click",u),v.addEventListener("click",m),document.querySelector(".modal__buttons").addEventListener("click",o)}L(),k()}(e)));const _=document.querySelector(".scroll-up");function o(e){if("BUTTON"!==e.target.nodeName)return;const t=`https://api.themoviedb.org/3/movie/${f}/videos?api_key=7bfeb33324f72574136d1cd14ae769b5`;(0,r.getDataApi)(t).then((t=>function(t){e.target.classList.contains("watch-trailer-0")?(0,c.onYouTubeIframeAPIReady)(t[0].key):e.target.classList.contains("watch-trailer-1")?(0,c.onYouTubeIframeAPIReady)(t[1].key):e.target.classList.contains("watch-trailer-2")&&(0,c.onYouTubeIframeAPIReady)(t[2].key),v.addEventListener("click",i)}(t.results)))}function i(e){e.target===e.currentTarget&&(v.classList.add("is-hidden"),_.classList.add("scroll-up--active"),c.player&&(0,c.stopVideo)())}function u(){const e=document.querySelector(".button-close");v.classList.add("is-hidden"),h.classList.remove("no-scroll"),_.classList.add("scroll-up--active"),c.player&&(0,c.stopVideo)(),e.removeEventListener("click",u),v.removeEventListener("click",m)}function m(e){if(e.target===e.currentTarget){const e=document.querySelector(".button-close");v.classList.add("is-hidden"),h.classList.remove("no-scroll"),_.classList.add("scroll-up--active"),e.removeEventListener("click",u),v.removeEventListener("click",m)}}document.addEventListener("keydown",(function e(t){if("Escape"!==t.code)return;"Escape"===t.code&&(v.classList.add("is-hidden"),h.classList.remove("no-scroll"),_.classList.add("scroll-up--active"),document.removeEventListener("keydown",e),c.player&&(0,c.stopVideo)())}))}})),a("bWjuf"),a("37v9V");
//# sourceMappingURL=myLibrary.6d5212a9.js.map
