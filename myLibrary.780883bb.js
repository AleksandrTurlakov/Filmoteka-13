function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){l[e]=n},n.parcelRequired7c6=a);var i=e(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var i,o=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='library__film-item' id='queue' data-id="+c(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:s)===r?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:1,column:50},end:{line:1,column:56}}}):i)+">\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='"+c(typeof(i=null!=(i=d(t,"src")||(null!=n?d(n,"src"):n))?i:s)===r?i.call(o,{name:"src",hash:{},data:a,loc:{start:{line:5,column:9},end:{line:5,column:16}}}):i)+"'\n    alt='"+c(typeof(i=null!=(i=d(t,"name")||(null!=n?d(n,"name"):n))?i:s)===r?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:6,column:9},end:{line:6,column:17}}}):i)+"'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>"+c(typeof(i=null!=(i=d(t,"name")||(null!=n?d(n,"name"):n))?i:s)===r?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:9,column:34},end:{line:9,column:42}}}):i)+"</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>"+c(typeof(i=null!=(i=d(t,"genr")||(null!=n?d(n,"genr"):n))?i:s)===r?i.call(o,{name:"genr",hash:{},data:a,loc:{start:{line:11,column:37},end:{line:11,column:45}}}):i)+"</p>\n      <p class='library__item-year'>"+c(typeof(i=null!=(i=d(t,"year")||(null!=n?d(n,"year"):n))?i:s)===r?i.call(o,{name:"year",hash:{},data:a,loc:{start:{line:12,column:36},end:{line:12,column:44}}}):i)+"<span\n          class='vote'\n        >"+c(typeof(i=null!=(i=d(t,"vote")||(null!=n?d(n,"vote"):n))?i:s)===r?i.call(o,{name:"vote",hash:{},data:a,loc:{start:{line:14,column:9},end:{line:14,column:17}}}):i)+"</span></p>\n    </div>\n  </div>\n  <button\n    class='library__btn-list-delete'\n    id='delete'\n    type='button'\n    title='delete'\n  >\n    <svg\n      id='delete'\n      class='icon-cls-lib'\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 24 24'\n    ><defs id='delete'><style id='delete'>\n          .del-icon-lib{fill:#fff;opacity:0;}.cls-2{fill:#231f20;}</style></defs><title\n      ></title><g data-name='Layer 2'><g id='delete'><g data-name='close'><rect\n              id='delete'\n              class='del-icon-lib'\n              width='24'\n              height='24'\n              transform='translate(24 24) rotate(180)'\n            ></rect><path\n              id='delete'\n              class='cls-2'\n              d='M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z'\n            ></path></g></g></g></svg>\n  </button>\n</li>"},useData:!0});var o=e(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var i,o=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='library__film-item' id='watched' data-id="+c(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:s)===r?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:1,column:52},end:{line:1,column:58}}}):i)+">\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='"+c(typeof(i=null!=(i=d(t,"src")||(null!=n?d(n,"src"):n))?i:s)===r?i.call(o,{name:"src",hash:{},data:a,loc:{start:{line:5,column:9},end:{line:5,column:16}}}):i)+"'\n    alt='"+c(typeof(i=null!=(i=d(t,"name")||(null!=n?d(n,"name"):n))?i:s)===r?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:6,column:9},end:{line:6,column:17}}}):i)+"'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>"+c(typeof(i=null!=(i=d(t,"name")||(null!=n?d(n,"name"):n))?i:s)===r?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:9,column:34},end:{line:9,column:42}}}):i)+"</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>"+c(typeof(i=null!=(i=d(t,"genr")||(null!=n?d(n,"genr"):n))?i:s)===r?i.call(o,{name:"genr",hash:{},data:a,loc:{start:{line:11,column:37},end:{line:11,column:45}}}):i)+"</p>\n      <p class='library__item-year'>"+c(typeof(i=null!=(i=d(t,"year")||(null!=n?d(n,"year"):n))?i:s)===r?i.call(o,{name:"year",hash:{},data:a,loc:{start:{line:12,column:36},end:{line:12,column:44}}}):i)+"<span\n          class='vote'\n        >"+c(typeof(i=null!=(i=d(t,"vote")||(null!=n?d(n,"vote"):n))?i:s)===r?i.call(o,{name:"vote",hash:{},data:a,loc:{start:{line:14,column:9},end:{line:14,column:17}}}):i)+"</span></p>\n    </div>\n  </div>\n  <button\n    class='library__btn-list-delete'\n    id='delete'\n    type='button'\n    title='delete'\n  >\n    <svg\n      id='delete'\n      class='icon-cls-lib'\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 24 24'\n    ><defs id='delete'><style id='delete'>\n          .del-icon-lib{fill:#fff;opacity:0;}.cls-2{fill:#231f20;}</style></defs><title\n      ></title><g data-name='Layer 2'><g id='delete'><g data-name='close'><rect\n              id='delete'\n              class='del-icon-lib'\n              width='24'\n              height='24'\n              transform='translate(24 24) rotate(180)'\n            ></rect><path\n              id='delete'\n              class='cls-2'\n              d='M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z'\n            ></path></g></g></g></svg>\n  </button>\n</li>"},useData:!0}),s=a("4RHyl"),r=a("6tWIa");const c=document.querySelector(".library__list"),d=document.querySelector(".library"),u=document.querySelector("#watched-btn"),m=document.querySelector("#queue-btn"),p=document.querySelector("body"),f=document.querySelector(".backdrop"),y=JSON.parse(localStorage.getItem("watched")),v=JSON.parse(localStorage.getItem("queue"));u.addEventListener("click",(function(){c.innerHTML="",c.insertAdjacentHTML("beforeend",JSON.parse(localStorage.getItem("watched"))?y.map(o).join(""):c.textContent=""),c.classList.remove("visually-hidden"),d.classList.add("visually-hidden"),u.classList.toggle("activeBtn"),m.classList.remove("activeBtn")})),m.addEventListener("click",(function(){c.innerHTML="",c.insertAdjacentHTML("beforeend",JSON.parse(localStorage.getItem("queue"))?v.map(i).join(""):c.textContent=""),c.classList.remove("visually-hidden"),d.classList.add("visually-hidden"),m.classList.toggle("activeBtn"),u.classList.remove("activeBtn")}));let g="";c.addEventListener("click",(function(e){if(e.target===c)return;const n=document.querySelectorAll(".library__film-item"),t=e.composedPath()[e.composedPath().length-8],l=t.offsetParent.dataset.id;let a=[];if("delete"===t.id)n.forEach((e=>{if(e.dataset.id===l){e.remove();let n=e.id;const t=JSON.parse(localStorage.getItem(`${n}`));1===t.length&&localStorage.removeItem(`${n}`),t.map((e=>{e.id!==Number(l)&&(a.push(e),localStorage.setItem(`${n}`,JSON.stringify(a)))}))}}));else{if(e.target===e.currentTarget)return;f.innerHTML="";const u=e.target.closest("li");g=u.dataset.id;const m=`https://api.themoviedb.org/3/movie/${g}?api_key=7bfeb33324f72574136d1cd14ae769b5`;(0,s.getDataApi)(m).then((e=>function(e){const n=e.genres.map((e=>e.name)).join(", ");function t(){return e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg"}const l=t(),a=e.title.toUpperCase(),o=e.vote_average.toFixed(1),s=e.vote_count,c=e.popularity,d=e.original_title,u=e.overview,m={src:l,name:a,vote:o,vote_count:s,popularity:c,original_title:d,genr:n,overview:u,id:e.id};f.insertAdjacentHTML("beforeend",(0,r.default)(m)),i()}(e)));const y=document.querySelector(".scroll-up");function i(){f.classList.remove("is-hidden"),p.classList.add("no-scroll"),y.classList.remove("scroll-up--active"),f.removeEventListener("click",i),document.querySelector(".button-close").addEventListener("click",o),f.addEventListener("click",d)}function o(){f.classList.add("is-hidden"),p.classList.remove("no-scroll"),y.classList.add("scroll-up--active"),f.removeEventListener("click",d)}function d(e){e.target===e.currentTarget&&(f.classList.add("is-hidden"),p.classList.remove("no-scroll"),y.classList.add("scroll-up--active"),f.removeEventListener("click",d))}document.addEventListener("keydown",(function e(n){if("Escape"!==n.code)return;"Escape"===n.code&&(f.classList.add("is-hidden"),p.classList.remove("no-scroll"),y.classList.add("scroll-up--active"),document.removeEventListener("keydown",e))}))}})),a("bWjuf");
//# sourceMappingURL=myLibrary.780883bb.js.map
