var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var i=n("89O7D"),s=n("4RHyl"),r=n("6tWIa");const c=document.querySelector(".library__list"),a=document.querySelector(".library"),l=document.querySelector("#watched-btn"),d=document.querySelector("#queue-btn"),u=document.querySelector("body"),v=document.querySelector(".backdropLibrary"),p=JSON.parse(localStorage.getItem("watched")),L=JSON.parse(localStorage.getItem("queue"));l.addEventListener("click",(function(){c.innerHTML="",c.insertAdjacentHTML("beforeend",p.map(i.default).join("")),c.classList.remove("visually-hidden"),a.classList.add("visually-hidden"),l.classList.toggle("activeBtn"),d.classList.remove("activeBtn"),p.forEach((e=>console.log(e)))})),d.addEventListener("click",(function(){c.innerHTML="",c.insertAdjacentHTML("beforeend",L.map(i.default).join("")),c.classList.remove("visually-hidden"),a.classList.add("visually-hidden"),d.classList.toggle("activeBtn"),l.classList.remove("activeBtn")}));let m="";c.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;v.innerHTML="";const t=e.target.closest("li");m=t.dataset.id;const o=`https://api.themoviedb.org/3/movie/${m}?api_key=7bfeb33324f72574136d1cd14ae769b5`;(0,s.getDataApi)(o).then((e=>function(e){const t=e.genres.map((e=>e.name)).join(", ");function o(){return e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg"}const n={src:o(),name:e.title.toUpperCase(),vote:e.vote_average.toFixed(1),vote_count:e.vote_count,popularity:e.popularity,original_title:e.original_title,genr:t,overview:e.overview,id:e.id};v.insertAdjacentHTML("beforeend",(0,r.default)(n)),i()}(e)));const n=document.querySelector(".scroll-up");function i(){v.classList.remove("is-hidden"),u.classList.add("no-scroll"),n.classList.remove("scroll-up--active"),v.removeEventListener("click",i),document.querySelector(".button-close").addEventListener("click",a),v.addEventListener("click",c)}function c(e){console.log(e.target),console.log(e.currentTarget),e.target===e.currentTarget&&(v.classList.add("is-hidden"),u.classList.remove("no-scroll"),n.classList.add("scroll-up--active"),v.removeEventListener("click",c))}function a(){v.classList.add("is-hidden"),u.classList.remove("no-scroll"),n.classList.add("scroll-up--active"),v.removeEventListener("click",c)}document.addEventListener("keydown",(function e(t){"Escape"===t.code&&"Escape"===t.code&&(v.classList.add("is-hidden"),u.classList.remove("no-scroll"),n.classList.add("scroll-up--active"),document.removeEventListener("keydown",e))}))})),n("bWjuf");
//# sourceMappingURL=myLibrary.46c0dfa0.js.map
