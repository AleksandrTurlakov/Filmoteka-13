!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var r=o("1v5Hx"),i=o("4LWpC"),s=o("7uIyH"),a=document.querySelector(".library__list"),c=document.querySelector(".library"),l=document.querySelector("#watched-btn"),d=document.querySelector("#queue-btn"),u=document.querySelector("body"),v=document.querySelector(".backdropLibrary"),p=JSON.parse(localStorage.getItem("watched")),f=JSON.parse(localStorage.getItem("queue"));l.addEventListener("click",(function(){a.innerHTML="",a.insertAdjacentHTML("beforeend",p.map(r.default).join("")),a.classList.remove("visually-hidden"),c.classList.add("visually-hidden"),l.classList.toggle("activeBtn"),d.classList.remove("activeBtn"),p.forEach((function(e){return console.log(e)}))})),d.addEventListener("click",(function(){a.innerHTML="",a.insertAdjacentHTML("beforeend",f.map(r.default).join("")),a.classList.remove("visually-hidden"),c.classList.add("visually-hidden"),d.classList.toggle("activeBtn"),l.classList.remove("activeBtn")}));var L="";a.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;v.innerHTML="";var t=e.target.closest("li");L=t.dataset.id;var n="https://api.themoviedb.org/3/movie/".concat(L,"?api_key=7bfeb33324f72574136d1cd14ae769b5");(0,i.getDataApi)(n).then((function(e){return function(e){var t=e.genres.map((function(e){return e.name})).join(", ");function n(){return e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg"}var o={src:n(),name:e.title.toUpperCase(),vote:e.vote_average.toFixed(1),vote_count:e.vote_count,popularity:e.popularity,original_title:e.original_title,genr:t,overview:e.overview,id:e.id};v.insertAdjacentHTML("beforeend",(0,s.default)(o)),r()}(e)}));var o=document.querySelector(".scroll-up");function r(){v.classList.remove("is-hidden"),u.classList.add("no-scroll"),o.classList.remove("scroll-up--active"),v.removeEventListener("click",r),document.querySelector(".button-close").addEventListener("click",c),v.addEventListener("click",a)}function a(e){console.log(e.target),console.log(e.currentTarget),e.target===e.currentTarget&&(v.classList.add("is-hidden"),u.classList.remove("no-scroll"),o.classList.add("scroll-up--active"),v.removeEventListener("click",a))}function c(){v.classList.add("is-hidden"),u.classList.remove("no-scroll"),o.classList.add("scroll-up--active"),v.removeEventListener("click",a)}document.addEventListener("keydown",(function e(t){"Escape"===t.code&&"Escape"===t.code&&(v.classList.add("is-hidden"),u.classList.remove("no-scroll"),o.classList.add("scroll-up--active"),document.removeEventListener("keydown",e))}))})),o("46zAn")}();
//# sourceMappingURL=myLibrary.b634783d.js.map
