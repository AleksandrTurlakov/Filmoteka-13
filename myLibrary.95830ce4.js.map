{"mappings":"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","sources":["src/js/templates/libraryCard.hbs","src/js/getWatchedQueue.js"],"sourcesContent":["<li class='library__film-item' data-id={{id}}>\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='{{src}}'\n    alt='{{name}}'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>{{name}}</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>{{genr}}</p>\n      <p class='library__item-year'>{{year}}<span\n          class='vote'\n        >{{vote}}</span></p>\n    </div>\n  </div>\n  <button class='library__btn-list-delete' id='delete-btn' type='button'>\n    <i class='far fa-trash-alt'>X\n    </i>\n  </button>\n</li>","// import myLibraryPage from './myLibraryPage.js';\n\nimport cardEl from '../js/templates/libraryCard.hbs';\nimport { getDataApi } from './getDataApi';\nimport modalWindow from './templates/modalWindow.hbs';\n\nconst libraryUl = document.querySelector('.library__list');\nconst libraryBack = document.querySelector('.library');\n\nconst watchedBtn = document.querySelector('#watched-btn');\nconst queueBtn = document.querySelector('#queue-btn');\nconst deleteBtn = document.querySelector('#delete-btn');\nconst body = document.querySelector('body');\nconst backdropLibrary = document.querySelector('.backdropLibrary');\n\nconst watched = JSON.parse(localStorage.getItem('watched'));\nconst queue = JSON.parse(localStorage.getItem('queue'));\n\nwatchedBtn.addEventListener('click', onWatchedClick);\nqueueBtn.addEventListener('click', onQueueClick);\n\nfunction onWatchedClick() {\n  libraryUl.innerHTML = '';\n  libraryUl.insertAdjacentHTML('beforeend', watched.map(cardEl).join(''));\n  libraryUl.classList.remove('visually-hidden');\n  libraryBack.classList.add('visually-hidden');\n  watchedBtn.classList.toggle('activeBtn');\n  queueBtn.classList.remove('activeBtn');\n\n  watched.forEach(index => console.log(index));\n}\n\nfunction onQueueClick() {\n  libraryUl.innerHTML = '';\n  libraryUl.insertAdjacentHTML('beforeend', queue.map(cardEl).join(''));\n  libraryUl.classList.remove('visually-hidden');\n  libraryBack.classList.add('visually-hidden');\n  queueBtn.classList.toggle('activeBtn');\n  watchedBtn.classList.remove('activeBtn');\n}\n\n// ============  MODAL\n\nlet movie_id = '';\n\nlibraryUl.addEventListener('click', handleCardClick);\nfunction handleCardClick(evt) {\n  if (evt.target === evt.currentTarget) return;\n  backdropLibrary.innerHTML = '';\n  const parent = evt.target.closest('li');\n  movie_id = parent.dataset.id;\n  const URL = `https://api.themoviedb.org/3/movie/${movie_id}?api_key=7bfeb33324f72574136d1cd14ae769b5`;\n\n  function findFilm() {\n    getDataApi(URL).then(response => buildElements(response));\n  }\n  findFilm();\n\n  function buildElements(response) {\n    const genr = response.genres.map(genr => genr.name).join(', ');\n\n    function srcAudit() {\n      if (!response.poster_path) {\n        return `https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg`;\n      }\n      return `https://image.tmdb.org/t/p/w500${response.poster_path}`;\n    }\n    const src = srcAudit();\n    const name = response.title.toUpperCase();\n    const vote = response.vote_average.toFixed(1);\n    const vote_count = response.vote_count;\n    const popularity = response.popularity;\n    const original_title = response.original_title;\n    const overview = response.overview;\n    const data = {\n      src,\n      name,\n      vote,\n      vote_count,\n      popularity,\n      original_title,\n      genr,\n      overview,\n      id: response.id,\n    };\n    backdropLibrary.insertAdjacentHTML('beforeend', modalWindow(data));\n}\n\n// =================== DELETE\n\ndeleteBtn.addEventListener('click', onDeleteClick);\n\nfunction onDeleteClick(event) {\n  if (evt.target === evt.currentTarget) return;\n  backdropLibrary.innerHTML = '';\n  const parent = evt.target.closest('li');\n  movie_id = parent.dataset.id;\n}"],"names":["$c0a1f8ae559dddcc$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","compiler","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","useData","$c85344ceba4df2c9$var$libraryUl","document","querySelector","$c85344ceba4df2c9$var$libraryBack","$c85344ceba4df2c9$var$watchedBtn","$c85344ceba4df2c9$var$queueBtn","$c85344ceba4df2c9$var$deleteBtn","$c85344ceba4df2c9$var$backdropLibrary","$c85344ceba4df2c9$var$watched","JSON","parse","localStorage","getItem","$c85344ceba4df2c9$var$queue","addEventListener","innerHTML","insertAdjacentHTML","map","join","classList","remove","add","toggle","forEach","index","console","log","$c85344ceba4df2c9$var$movie_id","evt","target","currentTarget","parent1","closest","dataset","id","URL","$4RHyl","getDataApi","then","response","genr1","genres","genr","srcAudit","poster_path","title","toUpperCase","vote_average","toFixed","vote_count","popularity","original_title","overview","$6tWIa","default","buildElements","event"],"version":3,"file":"myLibrary.95830ce4.js.map"}