!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){l[e]=n},n.parcelRequired7c6=a);var i=a("l5bVx"),r=e(a("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(n,t,l,a,r){var o,s=null!=t?t:n.nullContext||{},c=n.hooks.helperMissing,d="function",u=n.escapeExpression,v=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='library__film-item' data-id="+u((void 0===(o=null!=(o=v(l,"id")||(null!=t?v(t,"id"):t))?o:c)?"undefined":e(i)(o))===d?o.call(s,{name:"id",hash:{},data:r,loc:{start:{line:1,column:39},end:{line:1,column:45}}}):o)+">\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='"+u((void 0===(o=null!=(o=v(l,"src")||(null!=t?v(t,"src"):t))?o:c)?"undefined":e(i)(o))===d?o.call(s,{name:"src",hash:{},data:r,loc:{start:{line:5,column:9},end:{line:5,column:16}}}):o)+"'\n    alt='"+u((void 0===(o=null!=(o=v(l,"name")||(null!=t?v(t,"name"):t))?o:c)?"undefined":e(i)(o))===d?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:6,column:9},end:{line:6,column:17}}}):o)+"'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>"+u((void 0===(o=null!=(o=v(l,"name")||(null!=t?v(t,"name"):t))?o:c)?"undefined":e(i)(o))===d?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:9,column:34},end:{line:9,column:42}}}):o)+"</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>"+u((void 0===(o=null!=(o=v(l,"genr")||(null!=t?v(t,"genr"):t))?o:c)?"undefined":e(i)(o))===d?o.call(s,{name:"genr",hash:{},data:r,loc:{start:{line:11,column:37},end:{line:11,column:45}}}):o)+"</p>\n      <p class='library__item-year'>"+u((void 0===(o=null!=(o=v(l,"year")||(null!=t?v(t,"year"):t))?o:c)?"undefined":e(i)(o))===d?o.call(s,{name:"year",hash:{},data:r,loc:{start:{line:12,column:36},end:{line:12,column:44}}}):o)+"<span\n          class='vote'\n        >"+u((void 0===(o=null!=(o=v(l,"vote")||(null!=t?v(t,"vote"):t))?o:c)?"undefined":e(i)(o))===d?o.call(s,{name:"vote",hash:{},data:r,loc:{start:{line:14,column:9},end:{line:14,column:17}}}):o)+"</span></p>\n    </div>\n  </div>\n  <button class='library__btn-list-delete' id='delete-btn' type='button'>\n    <i class='far fa-trash-alt'>X\n    </i>\n  </button>\n</li>"},useData:!0}),o=a("4LWpC"),s=a("7uIyH"),c=document.querySelector(".library__list"),d=document.querySelector(".library"),u=document.querySelector("#watched-btn"),v=document.querySelector("#queue-btn"),m=document.querySelector("#delete-btn"),p=document.querySelector("body"),f=document.querySelector(".backdropLibrary"),g=JSON.parse(localStorage.getItem("watched")),y=JSON.parse(localStorage.getItem("queue"));u.addEventListener("click",(function(){c.innerHTML="",c.insertAdjacentHTML("beforeend",g.map(r).join("")),c.classList.remove("visually-hidden"),d.classList.add("visually-hidden"),u.classList.toggle("activeBtn"),v.classList.remove("activeBtn"),g.forEach((function(e){return console.log(e)}))})),v.addEventListener("click",(function(){c.innerHTML="",c.insertAdjacentHTML("beforeend",y.map(r).join("")),c.classList.remove("visually-hidden"),d.classList.add("visually-hidden"),v.classList.toggle("activeBtn"),u.classList.remove("activeBtn")}));var h="";c.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;f.innerHTML="";var n=e.target.closest("li");h=n.dataset.id;var t="https://api.themoviedb.org/3/movie/".concat(h,"?api_key=7bfeb33324f72574136d1cd14ae769b5");(0,o.getDataApi)(t).then((function(e){return function(e){var n=e.genres.map((function(e){return e.name})).join(", ");function t(){return e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg"}var l={src:t(),name:e.title.toUpperCase(),vote:e.vote_average.toFixed(1),vote_count:e.vote_count,popularity:e.popularity,original_title:e.original_title,genr:n,overview:e.overview,id:e.id};f.insertAdjacentHTML("beforeend",(0,s.default)(l)),a()}(e)}));var l=document.querySelector(".scroll-up");function a(){f.classList.remove("is-hidden"),p.classList.add("no-scroll"),l.classList.remove("scroll-up--active"),f.removeEventListener("click",a),document.querySelector(".button-close").addEventListener("click",r),f.addEventListener("click",i)}function i(e){console.log(e.target),console.log(e.currentTarget),e.target===e.currentTarget&&(f.classList.add("is-hidden"),p.classList.remove("no-scroll"),l.classList.add("scroll-up--active"),f.removeEventListener("click",i))}function r(){f.classList.add("is-hidden"),p.classList.remove("no-scroll"),l.classList.add("scroll-up--active"),f.removeEventListener("click",i)}document.addEventListener("keydown",(function e(n){"Escape"===n.code&&"Escape"===n.code&&(f.classList.add("is-hidden"),p.classList.remove("no-scroll"),l.classList.add("scroll-up--active"),document.removeEventListener("keydown",e))}))})),m.addEventListener("click",(function(e){if(evt.target===evt.currentTarget)return;f.innerHTML="";var n=evt.target.closest("li");h=n.dataset.id})),a("46zAn")}();
//# sourceMappingURL=myLibrary.29447320.js.map
